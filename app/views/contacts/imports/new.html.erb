<p class="flush--block-start push--block-end align--center">
  <%= link_to "← Back to contacts", account_contacts_path(@account), class: "btn" %>
</p>

<div class="sheet flush--block-end">
  <header class="align--center">
    <h1 class="flush hdg">Import Contacts into HEY</h1>
    <p>
      Upload a <strong>vCard (.vcf)</strong> file to import and screen-in your contacts from another service, like
      <%= link_to "Gmail", "https://support.google.com/contacts/answer/7199294?hl=en&ref_topic=9160153", class: "permalink", target: "_blank" %>,
      <%= link_to "iCloud", "https://support.apple.com/guide/icloud/export-contact-information-mmfba748b2/icloud", class: "permalink", target: "_blank" %>, or
      <%= link_to "Outlook", "https://support.office.com/en-us/article/Export-contacts-from-Outlook-10f09abd-643c-4495-bb80-543714eca73f", class: "permalink", target: "_blank" %>.
    </p>
  </header>

  <section class="list--boxed">
    <%= form_with(model: [@account, :contacts, @import], class: "align--center") do |form| %>
      <label class="file-input align--left push--block-end" aria-label="Select a vCard file" data-controller="file-input">
        <%= form.file_field :file, required: true, accept: ".vcf", data: { action: "change->file-input#update", file_input_target: "input" } %>
        <span class="file-input__text flex-item--grow txt--ellipsis" data-file-input-target="filename"></span>
        <span class="file-input__button btn btn--subtle">Browse</span>
      </label>
      <%= form.submit "Upload and import", "data-turbo-submits-with": "Uploading...", class: "btn btn--primary" %>
    <% end %>
  </section>
</div>

<% if last_import = @account.imports.processed.last %>
  <p class="align--center txt--subtle">
    <small>Your last import was on <%= l(last_import.created_at.to_date, format: :long) %>. <%= link_to "Review this import", account_contacts_import_path(@account, last_import), class: "permalink" %></small>
  </p>
<% end %>
